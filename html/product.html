<!DOCTYPE html>
<html>

<>
    <title>Purchase Cakes</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" type="text/css" href="../CSS/navigation.css">
    <link rel="stylesheet" type="text/css" href="../CSS/scroll-to-top.css">
    <link rel="stylesheet" type="text/css" href="../CSS/home.css">
    <link rel = "stylesheet" href="../css/cart-hover-and-dropdown.css">
    <link rel="stylesheet" href="../css/form-elements2.css">
    <link rel ="stylesheet" href="../css/modal-styles.css">
    <link rel="stylesheet" type="text/css" href="../CSS/footer.css">

    <link rel="stylesheet" type="text/css" href="../CSS/product.css">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css" />
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Abhaya+Libre&display=swap">
    <link rel ="stylesheet" href="../css/scroll-to-top.css">
    <link rel ="stylesheet" href="../css/modal-styles.css">
    <link rel = "stylesheet" href="../css/cart-hover-and-dropdown.css">
</head>
<style>
    
.navigation-bar {
  background-color: #0581F4;
}
.menu a {
  color: white;
}

.dropbtn {
color: white;
}

</style>
<body>
    <header>
      <nav>
        <div class="navigation-bar">
            <div class="logo">
                <img src="..\Resources\Navigation-Bar\logo.png"  alt="Cakes R Us logo">
            </div>
            <div class="menu">
                <a href="../Html/home.html">Home</a>
                <div class="dropdown">
                    <div class="dropbtn">About
                        <i class="fa fa-caret-down"></i>
                    </div>
                    <div class="dropdown-content about-dropdown">
                        <a href="../html/who-we-are.html">Who We Are</a>
                        <a href="../html/our-history.html">Our History</a>
                    </div>
                </div> 
                <a href="../Html/shop.html">Shop</a>
                <a href="../Html/services.html">Services</a>
                <a href="../Html/contact.html">Contact</a>
            </div>
            <ul class="social-links">
                <li><a href="https://www.facebook.com/MrBean"><i class="fab fa-facebook-f"></i></a></li>
                <li><a href="https://twitter.com/RepAOC"><i class="fab fa-twitter"></i></a></li>
                <li><a href="https://www.instagram.com/leomessi"><i class="fab fa-instagram"></i></a></li>
            </ul>  
            <div class="icons">
                <div class="dropdown">
                    <a><img src="..\Resources\Navigation-Bar\search-icon.png"  alt="search"></a>
                    <div class="dropdown-content ">
                        <div id="search-container">
                            <input title="search" type="text" name="search" id="search-bar" placeholder="Search...">
                            <button title="search button">
                                <i class="fa fa-search"></i>
                            </button>
                        </div>
                    </div>
                </div> 
                <a class="cart-link">
                    <div class="cart-icon">
                        <img href="../html/cart.html" src="..\Resources\Navigation-Bar\cart-icon.png" alt="Cart">
                        <span class="cart-count">2</span>
                    </div>
                    <div class="cart-details">
                        <div class="cart-summary">
                            <h2>TOTAL</h2>
                            <div class="summary-row">
                                <span class="subtotal-label">Subtotal</span>
                                <span class="subtotal-amount">$10,500.00</span>
                            </div>
                            <div class="summary-row">
                                <span class="delivery-label">Delivery</span>
                                <span class="delivery-icon">
                                    <i class="fas fa-info-circle"></i>
                                    <span class="tooltip">Express delivery guarantees your order arrives in 1-3 days.</span>
                                </span>
                            </div>
                        </div>
                        <div class="cart-delivery">
                            <select class="delivery-options">
                                <option value="standard">Standard Delivery(FREE)</option>
                                <option value="express">Express ($25000.00)</option>
                            </select>
                            <button type="button" onclick="window.location.href='../Html/cart.html'" class="checkout-btn">Checkout</button>
                            <p>We Accept:</p>
                            <div class = "payment-options">
                                <img class = "visa" src = "../Resources/Logos/visa.png" alt="Visa Logo">
                                <img class = "wipay" src = "../Resources/Logos/wipay.png" alt ="Wipay Logo">
                                <img class = "paypal" src = "../Resources/Logos/paypal.png" alt ="Paypal Logo"> 
                            </div>
                        </div>
                    </div>
                </a>
                <a id="profile">
                    <div>
                        <img src="../Resources/Navigation-Bar/profile-icon.png" alt="Cart" id="modal-trigger">
                    </div>
                    <div class="cart-details space">
                        <div class="account-option">
                            <span id="view-profile">View Profile</span>
                        </div>
                        <div class="account-option space">
                            <span id="logout">Log out</span>
                        </div>
                    </div>
                </a>
            </div>
        </div>

        <section>
            <div id="login-modal" class="modal">
                <div class="modal-content">
                    <span class="close"><img src="../Resources/Icons/cross.png" alt="exit"></span>
                    <h2>Login</h2>
                    <div class="modal-container">
                        <div class = "options">
                            <div class = "gmail">
                                <img src ="../Resources/Logos/gmail.png" alt ="Gmail Logo"/>
                                <span>Login with Gmail</span>
                            </div>
                            <div class ="facebook">
                                <img src="../Resources/Logos/fb.png" alt="Facebook Logo"/>
                                <span>Login with Facebook</span>
                            </div>
                        </div>
                        <h3>- or via Username and Password - </h3>
                        <form class="form login">
                            <label class="form-label" for="username">Username</label>
                            <input class="form-input" type="text" placeholder="Username" name="username" required>
                            <label for="password" class="form-label">Password</label>
                            <input class="form-input" type="password" placeholder="Password" name="password" required>
                            <button type="submit" class="form-button">Login</button>
                        </form>
                        <div id = "signup-link" class="signup">
                            <p>Don't have an account? <a href="#" id="signup-btn">Sign Up</a></p>
                        </div>
                    </div>
                </div>
            </div> 
            <div id="signup-modal" class="modal">
                <div class="modal-content">
                    <span class="close"><img src="../Resources/Icons/cross.png" alt="exit"></span>
                    <h2>Sign Up</h2>
                    <div class="modal-container">
                        <div class = "options">
                            <div class = "gmail">
                                <img src ="../Resources/Logos/gmail.png" alt ="Gmail Logo"/>
                                <span>Sign up with Gmail</span>
                            </div>
                            <div class ="facebook">
                                <img src="../Resources/Logos/fb.png" alt="Facebook Logo"/>
                                <span>Sign up with Facebook</span>
                            </div>
                        </div>
                        <h3>- or via Gmail - </h3>
                        <form class="form signup">
                            <label class="form-label" for="username">Gmail</label>
                            <input class="form-input" type="text" placeholder="Gmail" name="gmail" required>
                            <label class="form-label" for="username">Username</label>
                            <input class="form-input" type="text" placeholder="Username"  name="username" required>
                            <label class="form-label" for="password">Password</label>
                            <input class="form-input" type="password" placeholder="Password" name="password" required>
                            <button class="form-button" type="submit">Sign Up</button>
                        </form>
                        <div id = "signup-link" class="signup">
                            <p><a href="#" id="return-to-login-btn">Back To Login Page</a></p>
                        </div>
                        <div class="signup-confirmation">
                            <p class = "signup-confirmation-message"> Thanks for signing up!</p>
                            <button class="ok-button">OK</button>
                        </div>
                        <div class="signup-confirmation">
                            <p>Your account has been created successfully. Please click OKAY <a href="#" id="login-btn">OKAY</a> to return to the login page.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>  
        <button id="scroll-to-top" class="circle">
            <img src="../Resources/Icons/scroll-up.jpg" alt="scroll-to-top">
        </button>    
    </nav>	       
    </header>

    <main>
      <div class="product-path">
        <a href="../html/home.html">Home</a>
        <span><img src="../Resources/Icons/arrow-grey.png" alt="arrow"></span> 
        <a href="../html/shop.html">Shop</a>
        <span><img src="../Resources/Icons/arrow-grey.png" alt="arrow"></span> 
        <a href="#" id="reload-page-link">Product</a>
      </div>
      
        <div class="product-page">
            
            <div class="product-image-mini">
                <img id="product-image02" src="" alt="Product Image Mini">
            </div>

            <div class="product-image">
              <div class="zoom-image" style="background-image: url('product-image01.jpg')"></div>
              <p class="product-caption">Roll over image to zoom in</p>
            </div>
            
<!-- Popup Container -->
<div id="popup-container">
  <div id="popup">
    <span class="close"><img src="../Resources/Icons/cross.png" alt=""></span>
    <h2>Added to cart</h2>
    <h3 id="popup-title"></h3>
    <div id="popup-buttons">
      <button id="popup-goto-cart">Go to Cart</button>
    </div>
  </div>
</div>
            <div class="product-info">
              <h1 id="product-title">Product Title</h1>
              <p id="product-price">Product price goes here.</p>
              <div class="product-rating">
              </div>
              
              <p id="product-description">Product description goes here.</p>
              <div class="product-dropdowns">
                <select name="color" id="color">
                    <option value="black">Black</option>
                    <option value="yellow">Yellow</option>
                    <option value="red">Red</option>
                    <option value="blue">Blue</option>
                    <option value="green">Green</option>
                </select>
                <span class="dropdown-separator">|</span>
                <select name="size" id="size">
                    <option value="small">S</option>
                    <option value="medium">M</option>
                    <option value="large">L</option>
                </select>
                <span class="dropdown-separator">|</span>
                <label for="quantity">Qty:</label>
                <select name="quantity" id="quantity">
                    <option value="1">1</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5</option>
                </select>
                </div>
            
              <button class="add-to-cart">Add to Cart</button>


              <div class="product-category-listing">
                <span class="category-heading">Category:</span>
                <a id="product-category" href="#">Category Name</a>
              </div>
              <div class="product-category-listing">
                <span class="tags-heading">Tags:</span>
                <a id="product-tags" href="#">Product Tags</a>
              </div>            
              
              
              
            </div>
          </div>
		</section>
    <script type="text/javascript" src="../javascript/login-modal.js"></script>
		<script>
      // Define a function to show/hide custom quantity input field based on the selected value of the quantity dropdown
			function showCustomQuantity() {
			  var quantityDropdown = document.getElementById("quantity");
			  var customQuantityDiv = document.getElementById("custom-quantity");
			  if (quantityDropdown.value == "custom") {
				customQuantityDiv.style.display = "block";
			  } else {
				customQuantityDiv.style.display = "none";
			  }
			}		  
			var quantityDropdown = document.getElementById("quantity");
			quantityDropdown.addEventListener("change", showCustomQuantity);
		</script>
	</main>

    <script>
const params = new URLSearchParams(window.location.search);
const id = params.get('id');
const image = decodeURIComponent(params.get('image'));
const title = decodeURIComponent(params.get('title'));
const price = decodeURIComponent(params.get('price'));
const description = decodeURIComponent(params.get('description'));
const category = decodeURIComponent(params.get('category'));
const tags = decodeURIComponent(params.get('tags'));
const rating = parseInt(params.get('rating')); // parse the rating value as an integer
const productRating = document.querySelector('.product-rating');

const zoomImage = document.querySelector('.zoom-image');
zoomImage.style.backgroundImage = `url('${image}')`;

const productImage02 = document.querySelector('#product-image02');
productImage02.setAttribute('src', image);

document.querySelector('#product-title').innerHTML = title;

// set the appropriate number of filled and empty stars based on the rating value
for (let i = 1; i <= 5; i++) {
  const star = document.createElement('span');
  star.classList.add('star');
  if (i <= rating) {
    star.innerHTML = '★';
  } else {
    star.innerHTML = '☆';
  }
  productRating.appendChild(star);
}

document.querySelector('#product-price').innerHTML = price;
document.querySelector('#product-description').innerHTML = description;
document.querySelector('#product-category').innerHTML = category;
document.querySelector('#product-tags').innerHTML = tags;


zoomImage.addEventListener('mousemove', (event) => {
  const rect = event.target.getBoundingClientRect();
  const x = event.clientX - rect.left;
  const y = event.clientY - rect.top;

  const xPercent = ((x / rect.width) * 100);
  const yPercent = ((y / rect.height) * 100);

  zoomImage.style.backgroundPosition = `${xPercent}% ${yPercent}%`;
});

zoomImage.addEventListener('mouseenter', () => {
  zoomImage.style.backgroundSize = '200%';
});

zoomImage.addEventListener('mouseleave', () => {
  zoomImage.style.backgroundPosition = 'center';
  zoomImage.style.backgroundSize = '100%';
});
    </script>

    <script>
const addToCartButton = document.querySelector('.add-to-cart');
const popupContainer = document.getElementById('popup-container');
const closeButton = document.querySelector('.close');
const goToCartButton = document.getElementById('popup-goto-cart');
const productTitle = document.getElementById('product-title');

addToCartButton.addEventListener('click', function() {
  popupContainer.style.display = 'block';
  document.getElementById('popup-title').textContent = productTitle.textContent + ' added to cart successfully';
});

closeButton.addEventListener('click', function() {
  popupContainer.style.display = 'none';
});

document.getElementById("popup-goto-cart").addEventListener("click", function() {
  window.location.href = "../html/cart.html";
});

document.querySelector("#popup .close").addEventListener("click", function() {
  document.getElementById("popup-container").style.display = "none";
});

const reloadLink = document.getElementById('reload-page-link');
reloadLink.addEventListener('click', function(event) {
  event.preventDefault(); // Prevent the default link behavior
  location.reload(); // Reload the page
});

// Get the product category element
const productCategory = document.getElementById("product-category");

// Get the category name from the URL query parameters
const urlParams = new URLSearchParams(window.location.search);
const categoryName = urlParams.get('category');

// Check if the category is valid and update the href attribute
if (categoryName && (categoryName === "Accessories" || categoryName === "Clothing")) {
  productCategory.href = `../html/shop.html?category=${categoryName.toLowerCase()}`;
}



    </script>


</body>
</html>